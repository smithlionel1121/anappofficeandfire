(this["webpackJsonpapp-of-ice-and-fire"]=this["webpackJsonpapp-of-ice-and-fire"]||[]).push([[0],{42:function(e,a,c){},58:function(e,a,c){},59:function(e,a,c){},60:function(e,a,c){},91:function(e,a,c){},92:function(e,a,c){},97:function(e,a,c){"use strict";c.r(a);var t=c(0),n=c(17),r=c.n(n),s=(c(58),c(59),c(7)),i=c(15),j=(c(60),Object(t.createContext)()),d=c(38),l=c(109),b=c(110),o=c(108),u=c(43),h=c(47),O=c(1),x=function(){var e=Object(t.useContext)(j),a=e.dataChoice,c=e.toggleSidebar,n=e.sidebarOpen,r=(e.params,e.page),x=e.changeParams,p=e.changePage,f=Object(t.useState)(""),g=Object(i.a)(f,2),m=g[0],y=g[1],v="".concat(a.charAt(0).toUpperCase()).concat(a.substring(1,a.length-1)," name:");return Object(O.jsxs)("header",{className:"header header-grid",children:[Object(O.jsx)("div",{className:"headerButton",children:Object(O.jsx)(d.a,{color:"accent",shape:"rectangle",size:"medium",variant:"primary",onClick:function(){return c()},children:n?"Hide Filters":"Show Filters"})}),Object(O.jsx)(l.a,{className:"headerTitle",textSize:"display1",children:"An app of Ice and Fire"}),Object(O.jsx)("div",{className:"headerSearch",children:Object(O.jsx)(b.a,{onSubmit:function(e){e.preventDefault(),x({name:m}),p(Object(s.a)(Object(s.a)({},r),{},{current:1})),y("")},children:Object(O.jsxs)(o.a,{placeholder:v,"aria-label":"Submit",onChange:function(e){return y(e.target.value)},value:m,children:[Object(O.jsx)(u.b,{align:"left",name:"magnify-glass"}),Object(O.jsx)(h.b,{align:"right",name:"magnify-glass",type:"submit",children:"Submit"})]})})})]})},p=(c(91),c(111)),f=c(101),g=c(49),m=c(32),y=c(33),v=c(50),C=c(112),P=c(102),A=function(){var e=Object(t.useContext)(j),a=e.sidebarOpen,c=e.changeOption,n=e.dataChoice,r=e.page,i=e.changePage,d=function(e){c(e),i(Object(s.a)(Object(s.a)({},r),{},{current:1}))},l=a?"app-sidebar expanded":"app-sidebar collapsed";return Object(O.jsxs)("div",{className:"sidebar ".concat(l),children:["Fetch:",Object(O.jsxs)(p.a,{children:[Object(O.jsx)(f.a,{name:"data",onClick:function(){return d("characters")},checked:"characters"===n,readOnly:!0,children:"Characters"}),Object(O.jsx)(f.a,{name:"data",onClick:function(){return d("houses")},checked:"houses"===n,readOnly:!0,children:"Houses"}),Object(O.jsx)(f.a,{name:"data",onClick:function(){return d("books")},checked:"books"===n,readOnly:!0,children:"Books"})]}),Object(O.jsxs)("div",{className:"dropdown",children:[Object(O.jsx)("span",{children:"Results per page:"}),Object(O.jsxs)(g.a,{children:[Object(O.jsx)(m.b,{children:Object(O.jsx)(o.a,{isTarget:!0,type:"number",onChange:function(){},value:r.size,children:Object(O.jsx)(u.b,{name:"chevron-down"})})}),Object(O.jsx)(y.b,{children:Object(O.jsx)(v.a,{children:Object(O.jsx)(C.a,{children:[5,10,15,20,25,50].map((function(e){return Object(O.jsx)(P.a,{onClick:function(){return i(Object(s.a)(Object(s.a)({},r),{},{current:1,size:e}))},selected:r.size===e,children:e},e)}))})})})]})]})]})},k=(c(92),c(51)),N=c(107),w=(c(42),c(103)),S=c(104),R=c(105),z=c(106),I=function(e){var a=e.character,c=a.name,t=a.aliases,n=a.gender,r=a.culture,s=a.playedBy;return Object(O.jsx)(w.a,{className:"card",borderRadius:"large",shade:"shade-3",size:"medium",shadow:!0,border:!0,children:Object(O.jsxs)(S.a,{children:[c&&Object(O.jsx)(l.a,{textStrong:!0,children:c}),Object(O.jsxs)(R.a,{style:"none",children:[Object(O.jsx)("hr",{}),t&&Object(O.jsxs)(z.a,{children:[Object(O.jsx)("b",{children:"AKA:"})," ",Object(O.jsx)("i",{children:t[0]})]}),n&&Object(O.jsxs)(z.a,{children:[Object(O.jsx)("b",{children:"Gender:"})," ",Object(O.jsx)("i",{children:n})]}),r&&Object(O.jsxs)(z.a,{children:[Object(O.jsx)("b",{children:"Culture:"})," ",Object(O.jsx)("i",{children:r})]}),s&&Object(O.jsxs)(z.a,{children:[Object(O.jsx)("b",{children:"Played By:"})," ",Object(O.jsx)("i",{children:s})]})]})]})})},E=function(e){var a=e.house,c=a.name,t=a.region,n=a.seats;return Object(O.jsx)(w.a,{className:"card",borderRadius:"large",shade:"shade-3",size:"medium",shadow:!0,border:!0,children:Object(O.jsxs)(S.a,{children:[c&&Object(O.jsx)(l.a,{textStrong:!0,children:c}),Object(O.jsxs)(R.a,{style:"none",children:[Object(O.jsx)("hr",{}),t&&Object(O.jsxs)(z.a,{children:[Object(O.jsx)("b",{children:"Region:"})," ",Object(O.jsx)("i",{children:t})]}),n&&Object(O.jsxs)(z.a,{children:[Object(O.jsx)("b",{children:"Seats:"})," ",Object(O.jsx)("i",{children:n})]})]})]})})},G=function(e){var a=e.book,c=a.name,t=a.authors,n=a.publisher,r=a.mediaType,s=a.numberOfPages,i=a.country;return Object(O.jsx)(w.a,{className:"card",borderRadius:"large",shade:"shade-3",size:"medium",shadow:!0,border:!0,children:Object(O.jsxs)(S.a,{children:[c&&Object(O.jsx)(l.a,{textStrong:!0,children:c}),Object(O.jsxs)(R.a,{style:"none",children:[Object(O.jsx)("hr",{}),t&&Object(O.jsxs)(z.a,{children:[Object(O.jsx)("b",{children:"By:"})," ",Object(O.jsx)("i",{children:t[0]})]}),n&&Object(O.jsxs)(z.a,{children:[Object(O.jsx)("b",{children:"Publisher:"})," ",Object(O.jsx)("i",{children:n})]}),r&&Object(O.jsxs)(z.a,{children:[Object(O.jsx)("b",{children:"Media Type:"})," ",Object(O.jsx)("i",{children:r})]}),s&&Object(O.jsxs)(z.a,{children:[Object(O.jsx)("b",{children:"Number of Pages:"})," ",Object(O.jsx)("i",{children:s})]}),i&&Object(O.jsxs)(z.a,{children:[Object(O.jsx)("b",{children:"Country:"})," ",Object(O.jsx)("i",{children:i})]})]})]})})},T=function(){var e,a=Object(t.useContext)(j),c=a.feedResults,n=a.isLoading,r=a.dataChoice,i=a.page,d=a.pagination,l=a.changePage;switch(r){case"characters":e=Array.isArray(c)&&c.map((function(e){return Object(O.jsx)(I,{character:e},e.url.slice(e.url.lastIndexOf("/",e.url.lastIndexOf("/")-1)+1))}));break;case"houses":e=Array.isArray(c)&&c.map((function(e){return Object(O.jsx)(E,{house:e},e.url.slice(e.url.lastIndexOf("/",e.url.lastIndexOf("/")-1)+1))}));break;case"books":e=Array.isArray(c)&&c.map((function(e){return Object(O.jsx)(G,{book:e},e.url.slice(e.url.lastIndexOf("/",e.url.lastIndexOf("/")-1)+1))}))}var b=n?Object(O.jsx)(k.a,{size:"large",sizeRem:"18rem",color:"white"}):Object(O.jsxs)(t.Fragment,{children:[Object(O.jsx)("div",{className:"card-list",children:e}),d&&Object(O.jsx)(N.a,{currentPage:i.current,onPageChange:function(e){return l(Object(s.a)(Object(s.a)({},i),{},{current:e}))},totalPages:d.lastPage})]});return Object(O.jsx)("div",{className:"feed",children:b})},L=c(26),B=c.n(L),_=c(34),D="TOGGLE_SIDEBAR",F="CHANGE_OPTION",H="TOGGLE_LOADING",U="UPDATE_RESULTS",J="UPDATE_PAGINATION",M="CHANGE_PAGE",K="CHANGE_PARAMS";function $(e,a){switch(a.type){case D:return Object(s.a)(Object(s.a)({},e),{},{sidebarOpen:!e.sidebarOpen});case F:return Object(s.a)(Object(s.a)({},e),{},{dataChoice:a.payload});case H:return Object(s.a)(Object(s.a)({},e),{},{isLoading:a.payload});case U:return Object(s.a)(Object(s.a)({},e),{},{feedResults:a.payload});case J:return Object(s.a)(Object(s.a)({},e),{},{pagination:a.payload});case M:return Object(s.a)(Object(s.a)({},e),{},{page:a.payload});case K:return Object(s.a)(Object(s.a)({},e),{},{params:a.payload});default:return e}}function q(e){return e.headers.get("link").split(",").reduce((function(e,a){var c=/^\<(.+)\>; rel="(.+)"$/.exec(a.trim());return c?(e[c[2]]=c[1],e):(console.warn("no match"),e)}),{})}var Q=function(){var e=Object(_.a)(B.a.mark((function e(a,c,t){var n,r,s,j,d,l,b,o,u;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="https://www.anapioficeandfire.com/api/".concat(a,"?page=").concat(c.current,"&pageSize=").concat(c.size),t)for(r=0,s=Object.entries(t);r<s.length;r++)j=Object(i.a)(s[r],2),d=j[0],(l=j[1])&&(n+="&".concat(d,"=").concat(l));return e.next=4,fetch(n);case 4:return b=e.sent,o=q(b),e.next=8,b.json();case 8:return u=e.sent,e.abrupt("return",[u,o]);case 10:case"end":return e.stop()}}),e)})));return function(a,c,t){return e.apply(this,arguments)}}(),V=function(e){var a=Object(t.useReducer)($,{sidebarOpen:!0,dataChoice:"characters",feedResults:null,isLoading:!1,pagination:{},page:{current:1,size:10},params:{}}),c=Object(i.a)(a,2),n=c[0],r=c[1],d=function(e){r({type:J,payload:e})},l=function(e){r({type:K,payload:e})},b=function(e){r({type:H,payload:e})};var o=n.sidebarOpen,u=n.isLoading,h=n.dataChoice,x=n.feedResults,p=n.pagination,f=n.page,g=n.params,m=o?"grid-container":"grid-container-closed";return Object(t.useEffect)(Object(_.a)(B.a.mark((function e(){var a,c,t,n,j,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,Q(h,f,g);case 3:a=e.sent,c=Object(i.a)(a,2),t=c[0],n=c[1],r({type:U,payload:t}),u=n.last,j=new URL(u).searchParams.get("page"),o=Object(s.a)(Object(s.a)({},n),{},{lastPage:j}),d(o),l({}),b(!1);case 13:case"end":return e.stop()}var u}),e)}))),[h,f]),Object(O.jsx)(j.Provider,{value:{sidebarOpen:o,isLoading:u,dataChoice:h,feedResults:x,pagination:p,page:f,changePage:function(e){r({type:M,payload:e})},changeParams:l,toggleSidebar:function(){r({type:D})},changeOption:function(e){r({type:F,payload:e})}},children:Object(O.jsx)("div",{className:"app ".concat(m),children:e.children})})};var W=function(){return Object(O.jsxs)(V,{children:[Object(O.jsx)(x,{}),Object(O.jsxs)("div",{className:"main",children:[Object(O.jsx)(A,{}),Object(O.jsx)(T,{})]})]})};r.a.render(Object(O.jsx)(W,{}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.2191248d.chunk.js.map