{"version":3,"sources":["context/app-context.js","components/Header/HeaderComponent.jsx","components/Sidebar/SidebarComponent.jsx","components/STRETCH_Cards/CharacterCard.jsx","components/STRETCH_Cards/HouseCard.jsx","components/STRETCH_Cards/BookCard.jsx","components/Feed/FeedComponent.jsx","context/app-actions.js","context/app-reducer.js","api/api.js","context/AppState.js","App.js","index.js"],"names":["AppContext","createContext","HeaderComponent","useContext","dataChoice","toggleSidebar","sidebarOpen","page","params","changeParams","changePage","useState","text","setText","label","charAt","toUpperCase","substring","length","className","Button","color","shape","size","variant","onClick","Heading","textSize","Form","onSubmit","e","preventDefault","name","current","TextInput","placeholder","aria-label","onChange","target","value","TextInputIcon","align","TextInputButton","type","SidebarComponent","changeOption","onSelect","selection","sidebarStatus","RadioButtonGroup","RadioButton","checked","readOnly","Dropdown","DropdownTarget","isTarget","DropdownSource","DropdownContext","DropdownMenu","map","item","DropdownMenuItem","selected","CharacterCard","character","aliases","gender","culture","playedBy","borderRadius","shade","shadow","border","CardContent","textStrong","List","style","ListItem","HouseCard","house","region","seats","BookCard","book","authors","publisher","mediaType","numberOfPages","country","FeedComponent","list","feedResults","isLoading","pagination","Array","isArray","result","url","slice","lastIndexOf","display","ProgressInfinite","sizeRem","Pagination","currentPage","onPageChange","newPage","totalPages","lastPage","TOGGLE_SIDEBAR","CHANGE_OPTION","TOGGLE_LOADING","UPDATE_RESULTS","UPDATE_PAGINATION","CHANGE_PAGE","CHANGE_PARAMS","reducer","state","action","payload","parseHeaders","res","headers","get","split","reduce","acc","link","props","exec","trim","console","warn","getData","pageInfo","addParams","a","Object","entries","key","fetch","links","json","data","AppState","useReducer","dispatch","updatePagination","toggleLoading","gridClassName","useEffect","last","URL","searchParams","Provider","option","children","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2191248d.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nconst AppContext = createContext();\n\nexport default AppContext;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport \"./HeaderComponent.css\";\n\nimport AppContext from \"../../context/app-context\";\n\nimport {\n    Button,\n    Heading,\n    Form,\n    TextInput,\n    TextInputButton,\n    TextInputIcon,\n} from \"@brandwatch/axiom-components\";\n\n// TODO - make sure HeaderComponent is expecting the right props (if any)!\nexport const HeaderComponent = () => {\n    const {\n        dataChoice,\n        toggleSidebar,\n        sidebarOpen,\n        params,\n        page,\n        changeParams,\n        changePage,\n    } = useContext(AppContext);\n    const [text, setText] = useState(\"\");\n\n    const onSubmit = e => {\n        e.preventDefault();\n        changeParams({ name: text });\n        changePage({ ...page, current: 1 });\n        setText(\"\");\n    };\n    let label = `${dataChoice.charAt(0).toUpperCase()}${dataChoice.substring(\n        1,\n        dataChoice.length - 1\n    )} name:`;\n    return (\n        <header className={\"header header-grid\"}>\n            {/* TODO [STRETCH] - add in any controls that you'd like in your header\n             E.g, a search bar, a toggle button for the side bar, or just a plain header!\n        */}\n            <div className=\"headerButton\">\n                <Button\n                    color=\"accent\"\n                    shape=\"rectangle\"\n                    size=\"medium\"\n                    variant=\"primary\"\n                    onClick={() => toggleSidebar()}\n                >\n                    {sidebarOpen ? \"Hide Filters\" : \"Show Filters\"}\n                </Button>\n            </div>\n            <Heading className=\"headerTitle\" textSize=\"display1\">\n                An app of Ice and Fire\n            </Heading>\n            <div className=\"headerSearch\">\n                <Form onSubmit={onSubmit}>\n                    <TextInput\n                        // inlineLabel\n                        placeholder={label}\n                        aria-label=\"Submit\"\n                        onChange={e => setText(e.target.value)}\n                        value={text}\n                    >\n                        <TextInputIcon align=\"left\" name=\"magnify-glass\" />\n                        <TextInputButton\n                            align=\"right\"\n                            name=\"magnify-glass\"\n                            type=\"submit\"\n                        >\n                            Submit\n                        </TextInputButton>\n                    </TextInput>\n                </Form>\n            </div>\n        </header>\n    );\n};\n","import React, { useContext } from \"react\";\nimport \"./SidebarComponent.css\";\n\nimport AppContext from \"../../context/app-context\";\n\nimport {\n    RadioButtonGroup,\n    RadioButton,\n    Dropdown,\n    DropdownTarget,\n    TextInput,\n    TextInputIcon,\n    DropdownSource,\n    DropdownContext,\n    DropdownMenu,\n    DropdownMenuItem,\n    Label,\n} from \"@brandwatch/axiom-components\";\n\n// TODO - make sure SidebarComponent is expecting the right props!\nexport const SidebarComponent = () => {\n    // TODO - reflect expanded/collapsed state in sidebar's className\n    // TODO - make sure the classNames in the SidebarComponent.css match up with the classes you choose!\n    const {\n        sidebarOpen,\n        changeOption,\n        dataChoice,\n        page,\n        changePage,\n    } = useContext(AppContext);\n\n    const items = [5, 10, 15, 20, 25, 50];\n\n    const onSelect = selection => {\n        changeOption(selection);\n        changePage({ ...page, current: 1 });\n    };\n\n    const sidebarStatus = sidebarOpen\n        ? \"app-sidebar expanded\"\n        : \"app-sidebar collapsed\";\n    return (\n        <div className={`sidebar ${sidebarStatus}`}>\n            {/* TODO - flesh out this component to include all controls for configuring your data retrieval.\n             This must include the category (books/characters/houses)\n             [STRETCH] Feel free to add anything else you want, for example:\n                * a dropdown to select number of items you want to retrieve\n                * a search bar to search for a particular item\n             You could even change what you can see in the search bar based on what you are searching for.\n             E.g add a dropdown to determine which field you're searching on (\"name\"/\"title\"/\"alias\")\n        */}\n            Fetch:\n            <RadioButtonGroup>\n                <RadioButton\n                    name=\"data\"\n                    onClick={() => onSelect(\"characters\")}\n                    checked={dataChoice === \"characters\"}\n                    readOnly\n                >\n                    Characters\n                </RadioButton>\n                <RadioButton\n                    name=\"data\"\n                    onClick={() => onSelect(\"houses\")}\n                    checked={dataChoice === \"houses\"}\n                    readOnly\n                >\n                    Houses\n                </RadioButton>\n                <RadioButton\n                    name=\"data\"\n                    onClick={() => onSelect(\"books\")}\n                    checked={dataChoice === \"books\"}\n                    readOnly\n                >\n                    Books\n                </RadioButton>\n            </RadioButtonGroup>\n            <div className=\"dropdown\">\n                <span>Results per page:</span>\n                <Dropdown>\n                    <DropdownTarget>\n                        <TextInput\n                            isTarget\n                            type=\"number\"\n                            onChange={() => {}}\n                            value={page.size}\n                        >\n                            <TextInputIcon name=\"chevron-down\" />\n                        </TextInput>\n                    </DropdownTarget>\n                    <DropdownSource>\n                        <DropdownContext>\n                            <DropdownMenu>\n                                {items.map(item => (\n                                    <DropdownMenuItem\n                                        key={item}\n                                        onClick={() =>\n                                            changePage({\n                                                ...page,\n                                                current: 1,\n                                                size: item,\n                                            })\n                                        }\n                                        selected={page.size === item}\n                                    >\n                                        {item}\n                                    </DropdownMenuItem>\n                                ))}\n                            </DropdownMenu>\n                        </DropdownContext>\n                    </DropdownSource>\n                </Dropdown>\n            </div>\n        </div>\n    );\n};\n","import React from \"react\";\nimport \"./Card.css\";\n\nimport {\n    Card,\n    CardContent,\n    Heading,\n    List,\n    ListItem,\n} from \"@brandwatch/axiom-components\";\n\n// TODO - create a component which displays information about Characters\n\n// TODO - make sure CharacterCard is expecting the right props!\nexport const CharacterCard = ({ character }) => {\n    const { name, aliases, gender, culture, playedBy } = character;\n    return (\n        <Card\n            className=\"card\"\n            borderRadius=\"large\"\n            shade=\"shade-3\"\n            size=\"medium\"\n            shadow\n            border\n        >\n            <CardContent>\n                {name && <Heading textStrong>{name}</Heading>}\n                <List style=\"none\">\n                    <hr />\n                    {aliases && (\n                        <ListItem>\n                            <b>AKA:</b> <i>{aliases[0]}</i>\n                        </ListItem>\n                    )}\n                    {gender && (\n                        <ListItem>\n                            <b>Gender:</b> <i>{gender}</i>\n                        </ListItem>\n                    )}\n                    {culture && (\n                        <ListItem>\n                            <b>Culture:</b> <i>{culture}</i>\n                        </ListItem>\n                    )}\n                    {playedBy && (\n                        <ListItem>\n                            <b>Played By:</b> <i>{playedBy}</i>\n                        </ListItem>\n                    )}\n                </List>\n            </CardContent>\n        </Card>\n    );\n};\n","import React from \"react\";\nimport \"./Card.css\";\n\nimport {\n    Card,\n    CardContent,\n    Heading,\n    List,\n    ListItem,\n} from \"@brandwatch/axiom-components\";\n\n// TODO - create a component which displays information about Houses\n\n// TODO - make sure HouseCard is expecting the right props!\nexport const HouseCard = ({ house }) => {\n    const { name, region, seats } = house;\n    return (\n        <Card\n            className=\"card\"\n            borderRadius=\"large\"\n            shade=\"shade-3\"\n            size=\"medium\"\n            shadow\n            border\n        >\n            <CardContent>\n                {name && <Heading textStrong>{name}</Heading>}\n\n                <List style=\"none\">\n                    <hr />\n                    {region && (\n                        <ListItem>\n                            <b>Region:</b> <i>{region}</i>\n                        </ListItem>\n                    )}\n                    {seats && (\n                        <ListItem>\n                            <b>Seats:</b> <i>{seats}</i>\n                        </ListItem>\n                    )}\n                </List>\n            </CardContent>\n        </Card>\n    );\n};\n","import React from \"react\";\nimport \"./Card.css\";\n\nimport {\n    Card,\n    CardContent,\n    Heading,\n    List,\n    ListItem,\n} from \"@brandwatch/axiom-components\";\n\n// TODO - create a component which displays information about Books\n\n// TODO - make sure BookCard is expecting the right props!\nexport const BookCard = ({ book }) => {\n    const {\n        name,\n        authors,\n        publisher,\n        mediaType,\n        numberOfPages,\n        country,\n    } = book;\n    return (\n        <Card\n            className=\"card\"\n            borderRadius=\"large\"\n            shade=\"shade-3\"\n            size=\"medium\"\n            shadow\n            border\n        >\n            <CardContent>\n                {name && <Heading textStrong>{name}</Heading>}\n                <List style=\"none\">\n                    <hr />\n                    {authors && (\n                        <ListItem>\n                            <b>By:</b> <i>{authors[0]}</i>\n                        </ListItem>\n                    )}\n                    {publisher && (\n                        <ListItem>\n                            <b>Publisher:</b> <i>{publisher}</i>\n                        </ListItem>\n                    )}\n                    {mediaType && (\n                        <ListItem>\n                            <b>Media Type:</b> <i>{mediaType}</i>\n                        </ListItem>\n                    )}\n                    {numberOfPages && (\n                        <ListItem>\n                            <b>Number of Pages:</b> <i>{numberOfPages}</i>\n                        </ListItem>\n                    )}\n                    {country && (\n                        <ListItem>\n                            <b>Country:</b> <i>{country}</i>\n                        </ListItem>\n                    )}\n                </List>\n            </CardContent>\n        </Card>\n    );\n};\n","import React, { Fragment, useContext } from \"react\";\nimport \"./FeedComponent.css\";\n\nimport AppContext from \"../../context/app-context\";\n\nimport {\n    CardList,\n    ProgressInfinite,\n    Pagination,\n} from \"@brandwatch/axiom-components\";\nimport { CharacterCard } from \"../STRETCH_Cards/CharacterCard\";\nimport { HouseCard } from \"../STRETCH_Cards/HouseCard\";\nimport { BookCard } from \"../STRETCH_Cards/BookCard\";\n// TODO - make sure FeedComponent is expecting the right props!\nexport const FeedComponent = () => {\n    const {\n        feedResults,\n        isLoading,\n        dataChoice,\n        page,\n        pagination,\n        changePage,\n    } = useContext(AppContext);\n\n    let list;\n    switch (dataChoice) {\n        case \"characters\":\n            list =\n                Array.isArray(feedResults) &&\n                feedResults.map(result => (\n                    <CharacterCard\n                        character={result}\n                        key={result.url.slice(\n                            result.url.lastIndexOf(\n                                \"/\",\n                                result.url.lastIndexOf(\"/\") - 1\n                            ) + 1\n                        )}\n                    />\n                ));\n            break;\n        case \"houses\":\n            list =\n                Array.isArray(feedResults) &&\n                feedResults.map(result => (\n                    <HouseCard\n                        house={result}\n                        key={result.url.slice(\n                            result.url.lastIndexOf(\n                                \"/\",\n                                result.url.lastIndexOf(\"/\") - 1\n                            ) + 1\n                        )}\n                    />\n                ));\n            break;\n        case \"books\":\n            list =\n                Array.isArray(feedResults) &&\n                feedResults.map(result => (\n                    <BookCard\n                        book={result}\n                        key={result.url.slice(\n                            result.url.lastIndexOf(\n                                \"/\",\n                                result.url.lastIndexOf(\"/\") - 1\n                            ) + 1\n                        )}\n                    />\n                ));\n            break;\n    }\n\n    const display = isLoading ? (\n        <ProgressInfinite size=\"large\" sizeRem=\"18rem\" color=\"white\" />\n    ) : (\n        <Fragment>\n            {/* <CardList></CardList> */}\n            <div className=\"card-list\">{list}</div>\n            {pagination && (\n                <Pagination\n                    currentPage={page.current}\n                    onPageChange={newPage =>\n                        changePage({ ...page, current: newPage })\n                    }\n                    totalPages={pagination.lastPage}\n                />\n            )}\n        </Fragment>\n    );\n\n    return (\n        <div className={\"feed\"}>\n            {/* TODO - add a placeholder for an empty feed */}\n            {/* TODO - build up a list of results */}\n            {/* TODO [STRETCH] - update this list to be a list/grid of STRETCH_Cards */}\n            {display}\n        </div>\n    );\n};\n","export const TOGGLE_SIDEBAR = \"TOGGLE_SIDEBAR\";\nexport const CHANGE_OPTION = \"CHANGE_OPTION\";\nexport const TOGGLE_LOADING = \"TOGGLE_LOADING\";\nexport const UPDATE_RESULTS = \"UPDATE_RESULTS\";\nexport const UPDATE_PAGINATION = \"UPDATE_PAGINATION\";\nexport const CHANGE_PAGE = \"CHANGE_PAGE\";\nexport const CHANGE_PARAMS = \"CHANGE_PARAMS\";\n","import {\n    TOGGLE_SIDEBAR,\n    CHANGE_OPTION,\n    TOGGLE_LOADING,\n    UPDATE_RESULTS,\n    UPDATE_PAGINATION,\n    CHANGE_PAGE,\n    CHANGE_PARAMS,\n} from \"./app-actions\";\n\nexport default function reducer(state, action) {\n    switch (action.type) {\n        case TOGGLE_SIDEBAR:\n            return { ...state, sidebarOpen: !state.sidebarOpen };\n        case CHANGE_OPTION:\n            return { ...state, dataChoice: action.payload };\n        case TOGGLE_LOADING:\n            return { ...state, isLoading: action.payload };\n        case UPDATE_RESULTS:\n            return { ...state, feedResults: action.payload };\n        case UPDATE_PAGINATION:\n            return { ...state, pagination: action.payload };\n        case CHANGE_PAGE:\n            return { ...state, page: action.payload };\n        case CHANGE_PARAMS:\n            return { ...state, params: action.payload };\n        default:\n            return state;\n    }\n}\n","// Api docs: https://anapioficeandfire.com/Documentation\n\n// TODO create a function that takes a \"field\" argument that fetches one of:\n//  - books\n//  - characters\n//  - houses\n\n// TODO [STRETCH]\n//  customise function (or create another function) to retrieve extra data based on configuration (number of results/pages/search\n\n// // see cheat sheet for fetch example.\nfunction parseHeaders(res) {\n    return res.headers\n        .get(\"link\")\n        .split(\",\")\n        .reduce((acc, link) => {\n            const props = /^\\<(.+)\\>; rel=\"(.+)\"$/.exec(link.trim());\n            if (!props) {\n                console.warn(\"no match\");\n                return acc;\n            }\n            acc[props[2]] = props[1];\n            return acc;\n        }, {});\n}\n\nexport const getData = async (dataChoice, pageInfo, addParams) => {\n    let url = `https://www.anapioficeandfire.com/api/${dataChoice}?page=${pageInfo.current}&pageSize=${pageInfo.size}`;\n    if (addParams) {\n        for (const [key, value] of Object.entries(addParams)) {\n            if (value) {\n                url += `&${key}=${value}`;\n            }\n        }\n    }\n    const res = await fetch(url);\n    const links = parseHeaders(res);\n    const data = await res.json();\n    return [data, links];\n};\n","import React, { useReducer, useEffect, useContext } from \"react\";\nimport AppContext from \"./app-context\";\nimport reducer from \"./app-reducer\";\n\nimport { getData } from \"../api/api\";\n\nimport {\n    TOGGLE_SIDEBAR,\n    CHANGE_OPTION,\n    TOGGLE_LOADING,\n    UPDATE_RESULTS,\n    UPDATE_PAGINATION,\n    CHANGE_PAGE,\n    CHANGE_PARAMS,\n} from \"./app-actions\";\n\nconst AppState = props => {\n    const initialState = {\n        sidebarOpen: true,\n        dataChoice: \"characters\",\n\n        feedResults: null,\n        isLoading: false,\n        pagination: {},\n        page: { current: 1, size: 10 },\n        params: {},\n    };\n\n    const [state, dispatch] = useReducer(reducer, initialState);\n\n    const toggleSidebar = () => {\n        dispatch({ type: TOGGLE_SIDEBAR });\n    };\n\n    const changeOption = option => {\n        dispatch({\n            type: CHANGE_OPTION,\n            payload: option,\n        });\n    };\n\n    const updateResults = results => {\n        dispatch({\n            type: UPDATE_RESULTS,\n            payload: results,\n        });\n    };\n\n    const updatePagination = pagination => {\n        dispatch({\n            type: UPDATE_PAGINATION,\n            payload: pagination,\n        });\n    };\n\n    const changePage = page => {\n        dispatch({\n            type: CHANGE_PAGE,\n            payload: page,\n        });\n    };\n\n    const changeParams = params => {\n        dispatch({\n            type: CHANGE_PARAMS,\n            payload: params,\n        });\n    };\n\n    const toggleLoading = isLoading => {\n        dispatch({ type: TOGGLE_LOADING, payload: isLoading });\n    };\n\n    function getPageCount(link) {\n        const url = new URL(link);\n        return url.searchParams.get(\"page\");\n    }\n\n    const {\n        sidebarOpen,\n        isLoading,\n        dataChoice,\n        feedResults,\n        pagination,\n        page,\n        params,\n    } = state;\n\n    const gridClassName = sidebarOpen\n        ? \"grid-container\"\n        : \"grid-container-closed\";\n\n    useEffect(async () => {\n        toggleLoading(true);\n        const [data, links] = await getData(dataChoice, page, params);\n        updateResults(data);\n        const lastPage = getPageCount(links.last);\n        const pagination = { ...links, lastPage };\n        updatePagination(pagination);\n        changeParams({});\n        toggleLoading(false);\n    }, [dataChoice, page]);\n\n    return (\n        <AppContext.Provider\n            value={{\n                sidebarOpen,\n                isLoading,\n                dataChoice,\n                feedResults,\n                pagination,\n                page,\n                changePage,\n                changeParams,\n                toggleSidebar,\n                changeOption,\n            }}\n        >\n            <div className={`app ${gridClassName}`}>{props.children}</div>\n        </AppContext.Provider>\n    );\n};\n\nexport default AppState;\n","import \"./App.css\";\nimport React from \"react\";\nimport { HeaderComponent } from \"./components/Header/HeaderComponent\";\nimport { SidebarComponent } from \"./components/Sidebar/SidebarComponent\";\nimport { FeedComponent } from \"./components/Feed/FeedComponent\";\nimport AppState from \"./context/AppState\";\n\nfunction App() {\n    // TODO - this is the \"main\" component for our app, and it will include all the global state that we care about\n    //  This should include things like:\n    //  * the sidebar expanded state\n    //  * the selected category (books/characters/houses)\n    //  * the feed results\n\n    // TODO [STRETCH] - This could also include\n    //  * the search term (if there is one)\n    //  * whether the app is fetching data (loading)\n    //  * any additional filters (number of results/filter terms in query string)\n\n    //  Each part of the state will need to be passed down to its respective component(s) in order for it\n    //  to be displayed/updated in the correct part of the UI\n    //  * E.g. maybe you can expand/collapse the sidebar from the header and the feed, as well as the sidebar itself\n    //  This means that the state will need to be accessed/updated from all of these components!\n\n    // To get started:\n    // TODO - add in an expanded state/setState\n    // TODO - add in a feedResults state/setState\n    // (See cheat sheet for useState example)\n\n    // TODO - import getData() from api (you will need to write this function)\n    //         and call it here (setting the results to the feedResults)\n    // TODO [STRETCH] - implement loading state and pass to FeedComponent\n\n    // TODO - pass in expanded sidebar state to components that need to know about it/update it.\n\n    return (\n        <AppState>\n            <HeaderComponent />\n            <div className=\"main\">\n                <SidebarComponent />\n                <FeedComponent />\n            </div>\n        </AppState>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n// Generated by create-react-app\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}