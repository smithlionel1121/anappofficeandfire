(this["webpackJsonpapp-of-ice-and-fire"]=this["webpackJsonpapp-of-ice-and-fire"]||[]).push([[0],{112:function(e,a,c){},120:function(e,a,c){},125:function(e,a,c){"use strict";c.r(a);var t=c(0),n=c(20),r=c.n(n),s=(c(79),c(80),c(6)),i=c(14),j=(c(81),Object(t.createContext)()),l=c(24),d=c(61),b=c(139),o=c(138),O=c(62),h=c(69),u=c(1),x=function(){var e=Object(t.useContext)(j),a=e.dataChoice,c=e.toggleSidebar,n=e.sidebarOpen,r=(e.params,e.page),x=e.changeParams,p=e.changePage,f=Object(t.useState)(""),g=Object(i.a)(f,2),m=g[0],v=g[1],y="".concat(a.charAt(0).toUpperCase()).concat(a.substring(1,a.length-1)," name:");return Object(u.jsxs)("header",{className:"header header-grid",children:[Object(u.jsx)("div",{className:"headerButton",children:Object(u.jsx)(l.a,{color:"accent",shape:"rectangle",size:"medium",variant:"primary",onClick:function(){return c()},children:n?"Hide Filters":"Show Filters"})}),Object(u.jsx)(d.a,{className:"headerTitle",textSize:"display1",children:"An app of Ice and Fire"}),Object(u.jsx)("div",{className:"headerSearch",children:Object(u.jsx)(b.a,{onSubmit:function(e){e.preventDefault(),x({name:m}),p(Object(s.a)(Object(s.a)({},r),{},{current:1})),v("")},children:Object(u.jsxs)(o.a,{placeholder:y,"aria-label":"Submit",onChange:function(e){return v(e.target.value)},value:m,children:[Object(u.jsx)(O.b,{align:"left",name:"magnify-glass"}),Object(u.jsx)(h.b,{align:"right",name:"magnify-glass",type:"submit",children:"Submit"})]})})})]})},p=c(7),f=(c(112),c(134)),g=c(136),m=c(71),v=c(140),y=c(130),C=c(141),k=c(131),A=c(25),w=c(22),P=c(23),N=c(26),D=function(){var e,a=Object(t.useContext)(j),c=a.sidebarOpen,n=a.changeOption,r=a.dataChoice,d=a.page,b=a.params,h=a.changePage,x=a.changeParams,D=Object(t.useState)(!1),S=Object(i.a)(D,2),R=S[0],T=S[1],I=function(e){n(e),x({}),h(Object(s.a)(Object(s.a)({},d),{},{current:1}))};function z(e){var a=e.label,c=e.param,n=b[c]?new Date(b[c]):null,r=Object(t.useState)(null),j=Object(i.a)(r,2),l=j[0],O=j[1],p=null;n&&(p=new Intl.DateTimeFormat("default",{year:"numeric",month:"numeric",day:"numeric"}).format(n));var g=new Date("01-01-2005");return Object(u.jsx)("div",{style:{width:"100px"},children:Object(u.jsx)(f.a,{onSelect:function(e){var a=e.date;O(a)},onApply:function(){var e=b;e[c]=new Date(l).toISOString(),x(Object(s.a)({},e)),h(Object(s.a)(Object(s.a)({},d),{},{current:1}))},onCancel:function(){O(n)},selectedDate:l,calendarOpenDate:g,children:Object(u.jsx)(o.a,{label:a,value:p||"",placeholder:"dd/mm/yy",readOnly:!0})})})}switch(r){case"characters":e=Object(u.jsxs)(t.Fragment,{children:[Object(u.jsx)("div",{className:"filter-group",children:Object(u.jsx)(g.a,{placeholder:b.gender?"".concat(b.gender.charAt(0).toUpperCase()).concat(b.gender.substring(1)):"Pick a Gender",children:Object(u.jsx)(m.b,{children:Object(u.jsxs)(v.a,{children:[Object(u.jsx)(y.a,{onClick:function(){x(Object(s.a)(Object(s.a)({},b),{},{gender:"female"})),h(Object(s.a)(Object(s.a)({},d),{},{current:1}))},selected:"female"===b.gender,children:"Female"}),Object(u.jsx)(y.a,{onClick:function(){x(Object(s.a)(Object(s.a)({},b),{},{gender:"male"})),h(Object(s.a)(Object(s.a)({},d),{},{current:1}))},selected:"male"===b.gender,children:"Male"}),Object(u.jsx)(y.a,{onClick:function(){b.gender;var e=Object(p.a)(b,["gender"]);x(e),h(Object(s.a)(Object(s.a)({},d),{},{current:1}))},selected:!1,children:"Clear"})]})})})}),Object(u.jsx)("div",{className:"filter-group",children:Object(u.jsx)(g.a,{placeholder:b.isAlive?"Alive":b.hasOwnProperty("isAlive")?"Dead":"Pick a Living Status",children:Object(u.jsx)(m.b,{children:Object(u.jsxs)(v.a,{children:[Object(u.jsx)(y.a,{onClick:function(){x(Object(s.a)(Object(s.a)({},b),{},{isAlive:!0})),h(Object(s.a)(Object(s.a)({},d),{},{current:1}))},selected:!!b.isAlive,children:"Alive"}),Object(u.jsx)(y.a,{onClick:function(){x(Object(s.a)(Object(s.a)({},b),{},{isAlive:!1})),h(Object(s.a)(Object(s.a)({},d),{},{current:1}))},selected:!b.isAlive&&b.hasOwnProperty("isAlive"),children:"Dead"}),Object(u.jsx)(y.a,{onClick:function(){b.isAlive;var e=Object(p.a)(b,["isAlive"]);x(e),h(Object(s.a)(Object(s.a)({},d),{},{current:1}))},selected:!1,children:"Clear"})]})})})})]});break;case"houses":e=Object(u.jsxs)(t.Fragment,{children:[Object(u.jsx)("div",{className:"filter-group",children:Object(u.jsx)(g.a,{placeholder:b.region?b.region:"Pick a Region",children:Object(u.jsx)(m.b,{children:Object(u.jsxs)(v.a,{children:[["Beyond the Wall","Dorne","Iron Islands","The Crownlands","The Neck","The North","The Reach","The Riverlands","The Stormlands","The Westerlands","The Vale"].map((function(e){return Object(u.jsx)(y.a,{onClick:function(){x(Object(s.a)(Object(s.a)({},b),{},{region:e})),h(Object(s.a)(Object(s.a)({},d),{},{current:1}))},children:e},e)})),Object(u.jsx)(y.a,{onClick:function(){b.region;var e=Object(p.a)(b,["region"]);x(e),h(Object(s.a)(Object(s.a)({},d),{},{current:1}))},selected:!1,children:"Clear"})]})})})}),Object(u.jsx)("div",{className:"filter-group",children:Object(u.jsx)(g.a,{placeholder:b.hasDiedOut?"Current":b.hasOwnProperty("hasDiedOut")?"Extinct":"Pick a Living Status",children:Object(u.jsx)(m.b,{children:Object(u.jsxs)(v.a,{children:[Object(u.jsx)(y.a,{onClick:function(){x(Object(s.a)(Object(s.a)({},b),{},{hasDiedOut:!0})),h(Object(s.a)(Object(s.a)({},d),{},{current:1}))},selected:!!b.hasDiedOut,children:"Current"}),Object(u.jsx)(y.a,{onClick:function(){x(Object(s.a)(Object(s.a)({},b),{},{hasDiedOut:!1})),h(Object(s.a)(Object(s.a)({},d),{},{current:1}))},selected:!b.hasDiedOut&&b.hasOwnProperty("hasDiedOut"),children:"Extinct"}),Object(u.jsx)(y.a,{onClick:function(){b.hasDiedOut;var e=Object(p.a)(b,["hasDiedOut"]);x(e),h(Object(s.a)(Object(s.a)({},d),{},{current:1}))},selected:!1,children:"Clear"})]})})})})]});break;case"books":e=Object(u.jsx)(t.Fragment,{children:Object(u.jsx)("div",{className:"filter-group",children:Object(u.jsxs)("div",{className:"filter-options",children:[Object(u.jsx)(z,{label:"From Release Date:",param:"fromReleaseDate"}),Object(u.jsx)(z,{label:"To Release Date:",param:"toReleaseDate"}),Object(u.jsx)("br",{}),Object(u.jsx)(l.a,{color:"negative",shape:"rectangle",size:"small",variant:"secondary",onClick:function(){x({}),h(Object(s.a)(Object(s.a)({},d),{},{current:1}))},children:"Reset"})]})})})}var E=c?"app-sidebar expanded":"app-sidebar collapsed",L=R?"":"collapsed";return Object(u.jsxs)("div",{className:"sidebar ".concat(E),children:["Fetch:",Object(u.jsxs)(C.a,{children:[Object(u.jsx)(k.a,{name:"data",onClick:function(){return I("characters")},checked:"characters"===r,readOnly:!0,children:"Characters"}),Object(u.jsx)(k.a,{name:"data",onClick:function(){return I("houses")},checked:"houses"===r,readOnly:!0,children:"Houses"}),Object(u.jsx)(k.a,{name:"data",onClick:function(){return I("books")},checked:"books"===r,readOnly:!0,children:"Books"})]}),Object(u.jsxs)("div",{className:"dropdown",children:[Object(u.jsx)("span",{children:"Results per page:"}),Object(u.jsxs)(A.a,{children:[Object(u.jsx)(w.b,{children:Object(u.jsx)(o.a,{isTarget:!0,type:"number",onChange:function(){},value:d.size,children:Object(u.jsx)(O.b,{name:"chevron-down"})})}),Object(u.jsx)(P.b,{children:Object(u.jsx)(N.a,{children:Object(u.jsx)(v.a,{children:[5,10,15,20,25,50].map((function(e){return Object(u.jsx)(y.a,{onClick:function(){return h(Object(s.a)(Object(s.a)({},d),{},{current:1,size:e}))},selected:d.size===e,children:e},e)}))})})})]})]}),Object(u.jsxs)("div",{className:"data-filters",children:[Object(u.jsx)(l.a,{color:"accent",shape:"rectangle",size:"small",variant:"secondary",onClick:function(){T(!R)},children:L?"More filters":"Less filters"}),Object(u.jsx)("div",{className:L,children:e})]})]})},S=(c(120),c(49)),R=c(137),T=(c(60),c(72)),I=c(63),z=c(132),E=c(133),L=c(135),G=function(e){var a,c=e.character,t=e.params,n=c.name,r=c.aliases,s=c.gender,i=c.culture,j=c.playedBy;return t.hasOwnProperty("isAlive")&&(a=t.isAlive),Object(u.jsx)(T.a,{className:"card",borderRadius:"large",shade:"shade-3",size:"medium",shadow:!0,border:!0,children:Object(u.jsxs)(I.a,{children:[n&&Object(u.jsx)(d.a,{textStrong:!0,children:n}),Object(u.jsxs)(z.a,{style:"none",children:[Object(u.jsx)("hr",{}),r&&Object(u.jsxs)(E.a,{children:[Object(u.jsx)("b",{children:"AKA:"})," ",Object(u.jsx)("i",{children:r[0]})]}),s&&Object(u.jsxs)(E.a,{children:[Object(u.jsx)("b",{children:"Gender:"})," ",Object(u.jsx)("i",{children:s})]}),i&&Object(u.jsxs)(E.a,{children:[Object(u.jsx)("b",{children:"Culture:"})," ",Object(u.jsx)("i",{children:i})]}),j&&Object(u.jsxs)(E.a,{children:[Object(u.jsx)("b",{children:"Played By:"})," ",Object(u.jsx)("i",{children:j})]}),a&&Object(u.jsx)(L.a,{color:"terra-form",children:"Is Alive"})]})]})})},F=function(e){var a=e.house,c=a.name,t=a.region,n=a.seats;return Object(u.jsx)(T.a,{className:"card",borderRadius:"large",shade:"shade-3",size:"medium",shadow:!0,border:!0,children:Object(u.jsxs)(I.a,{children:[c&&Object(u.jsx)(d.a,{textStrong:!0,children:c}),Object(u.jsxs)(z.a,{style:"none",children:[Object(u.jsx)("hr",{}),t&&Object(u.jsxs)(E.a,{children:[Object(u.jsx)("b",{children:"Region:"})," ",Object(u.jsx)("i",{children:t})]}),n&&Object(u.jsxs)(E.a,{children:[Object(u.jsx)("b",{children:"Seats:"})," ",Object(u.jsx)("i",{children:n})]})]})]})})},B=function(e){var a=e.book,c=a.name,t=a.authors,n=a.publisher,r=a.mediaType,s=a.numberOfPages,i=a.country,j=a.released;return Object(u.jsx)(T.a,{className:"card",borderRadius:"large",shade:"shade-3",size:"medium",shadow:!0,border:!0,children:Object(u.jsxs)(I.a,{children:[c&&Object(u.jsx)(d.a,{textStrong:!0,children:c}),Object(u.jsxs)(z.a,{style:"none",children:[Object(u.jsx)("hr",{}),t&&Object(u.jsxs)(E.a,{children:[Object(u.jsx)("b",{children:"By:"})," ",Object(u.jsx)("i",{children:t[0]})]}),n&&Object(u.jsxs)(E.a,{children:[Object(u.jsx)("b",{children:"Publisher:"})," ",Object(u.jsx)("i",{children:n})]}),r&&Object(u.jsxs)(E.a,{children:[Object(u.jsx)("b",{children:"Media Type:"})," ",Object(u.jsx)("i",{children:r})]}),s&&Object(u.jsxs)(E.a,{children:[Object(u.jsx)("b",{children:"Number of Pages:"})," ",Object(u.jsx)("i",{children:s})]}),j&&Object(u.jsxs)(E.a,{children:[Object(u.jsx)("b",{children:"Release Date:"}),Object(u.jsx)("i",{children:new Date(j).toLocaleDateString()})]}),i&&Object(u.jsxs)(E.a,{children:[Object(u.jsx)("b",{children:"Country:"})," ",Object(u.jsx)("i",{children:i})]})]})]})})},_=function(){var e,a=Object(t.useContext)(j),c=a.feedResults,n=a.isLoading,r=a.dataChoice,i=a.page,l=a.params,d=a.pagination,b=a.changePage;switch(r){case"characters":e=Array.isArray(c)&&c.map((function(e){return Object(u.jsx)(G,{character:e,params:l},e.url.slice(e.url.lastIndexOf("/",e.url.lastIndexOf("/")-1)+1))}));break;case"houses":e=Array.isArray(c)&&c.map((function(e){return Object(u.jsx)(F,{house:e},e.url.slice(e.url.lastIndexOf("/",e.url.lastIndexOf("/")-1)+1))}));break;case"books":e=Array.isArray(c)&&c.map((function(e){return Object(u.jsx)(B,{book:e},e.url.slice(e.url.lastIndexOf("/",e.url.lastIndexOf("/")-1)+1))}))}var o=n?Object(u.jsx)(S.a,{size:"large",sizeRem:"18rem",color:"white"}):Object(u.jsxs)(t.Fragment,{children:[Object(u.jsx)("div",{className:"card-list",children:e}),d&&Object(u.jsx)(R.a,{currentPage:i.current,onPageChange:function(e){return b(Object(s.a)(Object(s.a)({},i),{},{current:e}))},totalPages:d.lastPage})]});return Object(u.jsx)("div",{className:"feed",children:o})},U=c(40),H=c.n(U),M=c(53),J="TOGGLE_SIDEBAR",W="CHANGE_OPTION",K="TOGGLE_LOADING",V="UPDATE_RESULTS",$="UPDATE_PAGINATION",q="CHANGE_PAGE",Q="CHANGE_PARAMS";function X(e,a){switch(a.type){case J:return Object(s.a)(Object(s.a)({},e),{},{sidebarOpen:!e.sidebarOpen});case W:return Object(s.a)(Object(s.a)({},e),{},{dataChoice:a.payload});case K:return Object(s.a)(Object(s.a)({},e),{},{isLoading:a.payload});case V:return Object(s.a)(Object(s.a)({},e),{},{feedResults:a.payload});case $:return Object(s.a)(Object(s.a)({},e),{},{pagination:a.payload});case q:return Object(s.a)(Object(s.a)({},e),{},{page:a.payload});case Q:return Object(s.a)(Object(s.a)({},e),{},{params:a.payload});default:return e}}function Y(e){return e.headers.get("link").split(",").reduce((function(e,a){var c=/^\<(.+)\>; rel="(.+)"$/.exec(a.trim());return c?(e[c[2]]=c[1],e):(console.warn("no match"),e)}),{})}var Z=function(){var e=Object(M.a)(H.a.mark((function e(a,c,t){var n,r,s,j,l,d,b,o,O;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="https://www.anapioficeandfire.com/api/".concat(a,"?page=").concat(c.current,"&pageSize=").concat(c.size),t)for(r=0,s=Object.entries(t);r<s.length;r++)j=Object(i.a)(s[r],2),l=j[0],(d=j[1])&&(n+="&".concat(l,"=").concat(d));return e.next=4,fetch(n);case 4:return b=e.sent,o=Y(b),e.next=8,b.json();case 8:return O=e.sent,e.abrupt("return",[O,o]);case 10:case"end":return e.stop()}}),e)})));return function(a,c,t){return e.apply(this,arguments)}}(),ee=function(e){var a=Object(t.useReducer)(X,{sidebarOpen:!0,dataChoice:"characters",feedResults:null,isLoading:!1,pagination:{},page:{current:1,size:10},params:{}}),c=Object(i.a)(a,2),n=c[0],r=c[1],l=function(e){r({type:$,payload:e})},d=function(e){r({type:Q,payload:e})},b=function(e){r({type:K,payload:e})};var o=n.sidebarOpen,O=n.isLoading,h=n.dataChoice,x=n.feedResults,f=n.pagination,g=n.page,m=n.params,v=o?"grid-container":"grid-container-closed";return Object(t.useEffect)(Object(M.a)(H.a.mark((function e(){var a,c,t,n,j,o,O;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,Z(h,g,m);case 3:a=e.sent,c=Object(i.a)(a,2),t=c[0],n=c[1],r({type:V,payload:t}),u=n.last,j=new URL(u).searchParams.get("page"),o=Object(s.a)(Object(s.a)({},n),{},{lastPage:j}),l(o),m.name,O=Object(p.a)(m,["name"]),d(O),b(!1);case 14:case"end":return e.stop()}var u}),e)}))),[h,g]),Object(u.jsx)(j.Provider,{value:{sidebarOpen:o,isLoading:O,dataChoice:h,feedResults:x,pagination:f,page:g,params:m,changePage:function(e){r({type:q,payload:e})},changeParams:d,toggleSidebar:function(){r({type:J})},changeOption:function(e){r({type:W,payload:e})}},children:Object(u.jsx)("div",{className:"app ".concat(v),children:e.children})})};var ae=function(){return Object(u.jsxs)(ee,{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"main",children:[Object(u.jsx)(D,{}),Object(u.jsx)(_,{})]})]})};r.a.render(Object(u.jsx)(ae,{}),document.getElementById("root"))},60:function(e,a,c){},79:function(e,a,c){},80:function(e,a,c){},81:function(e,a,c){}},[[125,1,2]]]);
//# sourceMappingURL=main.10107df7.chunk.js.map